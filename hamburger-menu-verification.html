<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hamburger Menu Verification Test</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        // Simulate the hamburger menu components
        let sidebarOpen = false;
        
        function toggleSidebar() {
            sidebarOpen = !sidebarOpen;
            updateSidebar();
            updateHamburgerButton();
        }
        
        function updateSidebar() {
            const sidebar = document.getElementById('sidebar');
            const overlay = document.getElementById('overlay');
            
            if (sidebarOpen) {
                sidebar.classList.remove('-translate-x-full');
                sidebar.classList.add('translate-x-0');
                overlay.classList.remove('hidden');
            } else {
                sidebar.classList.add('-translate-x-full');
                sidebar.classList.remove('translate-x-0');
                overlay.classList.add('hidden');
            }
        }
        
        function updateHamburgerButton() {
            const button = document.getElementById('hamburger-button');
            button.setAttribute('aria-expanded', sidebarOpen.toString());
        }
        
        function closeSidebar() {
            sidebarOpen = false;
            updateSidebar();
            updateHamburgerButton();
        }
        
        function runTests() {
            const results = [];
            
            // Test 1: Hamburger button exists
            const hamburgerButton = document.getElementById('hamburger-button');
            results.push({
                test: 'Hamburger Button Exists',
                status: hamburgerButton ? 'PASS' : 'FAIL',
                details: hamburgerButton ? 'Button found in DOM' : 'Button not found'
            });
            
            // Test 2: Responsive visibility
            const isMobile = window.innerWidth < 1024;
            const isVisible = hamburgerButton && hamburgerButton.offsetParent !== null;
            const expectedVisibility = isMobile;
            results.push({
                test: 'Responsive Visibility',
                status: isVisible === expectedVisibility ? 'PASS' : 'FAIL',
                details: `Screen: ${window.innerWidth}px, Expected: ${expectedVisibility ? 'Visible' : 'Hidden'}, Actual: ${isVisible ? 'Visible' : 'Hidden'}`
            });
            
            // Test 3: Touch-friendly sizing
            const rect = hamburgerButton ? hamburgerButton.getBoundingClientRect() : { width: 0, height: 0 };
            const isTouchFriendly = rect.width >= 44 && rect.height >= 44;
            results.push({
                test: 'Touch-Friendly Sizing',
                status: isTouchFriendly ? 'PASS' : 'FAIL',
                details: `Size: ${rect.width}x${rect.height}px (minimum: 44x44px)`
            });
            
            // Test 4: Accessibility attributes
            const hasAriaLabel = hamburgerButton && hamburgerButton.getAttribute('aria-label') === 'Toggle mobile menu';
            const hasTitle = hamburgerButton && hamburgerButton.getAttribute('title') === 'Toggle mobile menu';
            const hasAriaExpanded = hamburgerButton && hamburgerButton.hasAttribute('aria-expanded');
            results.push({
                test: 'Accessibility Attributes',
                status: hasAriaLabel && hasTitle && hasAriaExpanded ? 'PASS' : 'FAIL',
                details: `aria-label: "${hamburgerButton ? hamburgerButton.getAttribute('aria-label') : 'null'}", title: "${hamburgerButton ? hamburgerButton.getAttribute('title') : 'null'}", aria-expanded: "${hamburgerButton ? hamburgerButton.getAttribute('aria-expanded') : 'null'}"`
            });
            
            // Test 5: Click functionality
            const initialSidebarState = sidebarOpen;
            hamburgerButton && hamburgerButton.click();
            const afterClickState = sidebarOpen;
            const clickWorks = initialSidebarState !== afterClickState;
            results.push({
                test: 'Click Functionality',
                status: clickWorks ? 'PASS' : 'FAIL',
                details: `Before: ${initialSidebarState}, After: ${afterClickState}`
            });
            
            // Test 6: Sidebar visibility
            const sidebar = document.getElementById('sidebar');
            const sidebarVisible = sidebar && !sidebar.classList.contains('-translate-x-full');
            results.push({
                test: 'Sidebar Visibility',
                status: sidebarVisible === sidebarOpen ? 'PASS' : 'FAIL',
                details: `Expected: ${sidebarOpen}, Actual: ${sidebarVisible}`
            });
            
            // Test 7: Overlay functionality
            const overlay = document.getElementById('overlay');
            const overlayVisible = overlay && !overlay.classList.contains('hidden');
            results.push({
                test: 'Overlay Visibility',
                status: overlayVisible === sidebarOpen ? 'PASS' : 'FAIL',
                details: `Expected: ${sidebarOpen}, Actual: ${overlayVisible}`
            });
            
            // Display results
            displayResults(results);
        }
        
        function displayResults(results) {
            const resultsDiv = document.getElementById('test-results');
            const passed = results.filter(r => r.status === 'PASS').length;
            const total = results.length;
            const successRate = (passed / total * 100).toFixed(1);
            
            let html = `
                <div class="bg-white rounded-lg shadow-lg p-6">
                    <h2 class="text-2xl font-bold mb-4">Test Results</h2>
                    <div class="mb-4">
                        <div class="text-lg font-semibold">Success Rate: ${successRate}% (${passed}/${total})</div>
                        <div class="w-full bg-gray-200 rounded-full h-2.5">
                            <div class="bg-green-500 h-2.5 rounded-full" style="width: ${successRate}%"></div>
                        </div>
                    </div>
                    <div class="space-y-2">
            `;
            
            results.forEach(result => {
                const icon = result.status === 'PASS' ? '✅' : '❌';
                const color = result.status === 'PASS' ? 'text-green-600' : 'text-red-600';
                html += `
                    <div class="border rounded p-3">
                        <div class="font-semibold ${color}">${icon} ${result.test}: ${result.status}</div>
                        <div class="text-sm text-gray-600">${result.details}</div>
                    </div>
                `;
            });
            
            html += `
                    </div>
                </div>
            `;
            
            resultsDiv.innerHTML = html;
        }
        
        function setViewport(width, height) {
            const viewport = document.getElementById('viewport');
            viewport.style.width = width + 'px';
            viewport.style.height = height + 'px';
            
            // Update viewport info
            document.getElementById('viewport-info').textContent = `${width}x${height}px`;
            
            // Re-run tests after viewport change
            setTimeout(runTests, 100);
        }
        
        // Initialize on load
        window.addEventListener('load', () => {
            runTests();
        });
        
        // Re-run tests on resize
        window.addEventListener('resize', () => {
            setTimeout(runTests, 100);
        });
    </script>
</head>
<body class="bg-gray-100">
    <div class="container mx-auto p-4">
        <h1 class="text-3xl font-bold text-center mb-6">Hamburger Menu Verification Test</h1>
        
        <!-- Viewport Controls -->
        <div class="bg-white rounded-lg shadow p-4 mb-4">
            <h2 class="text-xl font-semibold mb-3">Viewport Controls</h2>
            <div class="flex flex-wrap gap-2 mb-3">
                <button onclick="setViewport(320, 568)" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">Mobile Small (320x568)</button>
                <button onclick="setViewport(375, 667)" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">Mobile Medium (375x667)</button>
                <button onclick="setViewport(414, 896)" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">Mobile Large (414x896)</button>
                <button onclick="setViewport(768, 1024)" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">Tablet (768x1024)</button>
                <button onclick="setViewport(1024, 768)" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">Desktop Small (1024x768)</button>
                <button onclick="setViewport(1280, 800)" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">Desktop Medium (1280x800)</button>
                <button onclick="setViewport(1440, 900)" class="px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600">Desktop Large (1440x900)</button>
            </div>
            <div class="text-sm text-gray-600">
                Current Viewport: <span id="viewport-info" class="font-mono font-semibold">${window.innerWidth}x${window.innerHeight}px</span>
            </div>
        </div>
        
        <!-- Test Controls -->
        <div class="bg-white rounded-lg shadow p-4 mb-4">
            <h2 class="text-xl font-semibold mb-3">Test Controls</h2>
            <button onclick="runTests()" class="px-6 py-2 bg-green-500 text-white rounded hover:bg-green-600">Run Tests</button>
            <button onclick="toggleSidebar()" class="ml-2 px-6 py-2 bg-purple-500 text-white rounded hover:bg-purple-600">Toggle Sidebar</button>
        </div>
        
        <!-- Simulated Application -->
        <div class="bg-white rounded-lg shadow overflow-hidden">
            <div id="viewport" class="relative" style="width: 100%; height: 600px; border: 2px solid #ccc;">
                <!-- Top Navigation -->
                <nav class="fixed top-0 left-0 right-0 z-50 h-[60px] bg-[#121212]">
                    <div class="h-full px-3 sm:px-4 md:px-6 lg:px-8 flex items-center justify-between">
                        <div class="flex items-center gap-3">
                            <!-- Hamburger Menu Button -->
                            <button
                                id="hamburger-button"
                                onclick="toggleSidebar()"
                                className="lg:hidden flex items-center justify-center w-10 h-10 p-2 rounded-lg touch-manipulation transition-all duration-300 hover:scale-105 active:scale-95 focus:outline-none focus:ring-2 focus:ring-[#B89B5E]/50"
                                title="Toggle mobile menu"
                                aria-label="Toggle mobile menu"
                                aria-expanded="false"
                                style="background: '#B89B5E', color: '#EAE6DD', minHeight: '48px', minWidth: '48px'"
                            >
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
                                </svg>
                            </button>
                            
                            <!-- Logo -->
                            <div class="text-white font-bold text-lg">VeroTrade</div>
                        </div>
                        
                        <!-- Logout Button -->
                        <button class="group relative flex items-center gap-2 px-3 sm:px-4 py-2 bg-[#1A1A1A] hover:bg-[#2A2A2A] text-[#EAE6DD] rounded-full transition-all duration-300 text-sm font-medium hover:scale-105 hover:shadow-lg active:scale-95 focus:outline-none focus:ring-2 focus:ring-[#B89B5E]/50 focus:ring-offset-2 focus:ring-offset-[#121212] touch-manipulation">
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"></path>
                            </svg>
                            <span>Logout</span>
                        </button>
                    </div>
                </nav>
                
                <!-- Main Content -->
                <div class="pt-[60px] h-full bg-gray-50 flex items-center justify-center">
                    <div class="text-center">
                        <h2 class="text-2xl font-bold mb-4">Dashboard Content</h2>
                        <p class="text-gray-600">This is the main content area.</p>
                    </div>
                </div>
                
                <!-- Overlay -->
                <div id="overlay" class="fixed inset-0 z-[55] bg-black/50 hidden" onclick="closeSidebar()"></div>
                
                <!-- Sidebar -->
                <aside id="sidebar" class="fixed top-0 left-0 h-full w-80 transform transition-transform ease-out z-[60] lg:hidden -translate-x-full" style="transitionDuration: '300ms', backgroundColor: '#1A1A1A'">
                    <div class="flex flex-col h-full">
                        <!-- Sidebar Header -->
                        <div class="flex items-center justify-between p-6 border-b border-gray-600">
                            <div class="text-white font-bold text-lg">VeroTrade</div>
                            <button onclick="closeSidebar()" class="p-2 rounded-lg hover:bg-gray-700 transition-all" title="Close menu" aria-label="Close menu">
                                <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                                </svg>
                            </button>
                        </div>
                        
                        <!-- Navigation -->
                        <nav class="flex-1 p-4 space-y-2">
                            <a href="#" class="flex items-center gap-3 px-4 py-3 rounded-xl text-white hover:bg-gray-700 transition-all" style="minHeight: '48px'">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"></path>
                                </svg>
                                Dashboard
                            </a>
                            <a href="#" class="flex items-center gap-3 px-4 py-3 rounded-xl text-white hover:bg-gray-700 transition-all" style="minHeight: '48px'">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
                                </svg>
                                Log Trade
                            </a>
                            <a href="#" class="flex items-center gap-3 px-4 py-3 rounded-xl text-white hover:bg-gray-700 transition-all" style="minHeight: '48px'">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"></path>
                                </svg>
                                Strategies
                            </a>
                        </nav>
                    </div>
                </aside>
            </div>
        </div>
        
        <!-- Test Results -->
        <div id="test-results" class="mt-6"></div>
    </div>
</body>
</html>